<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Summar Installer ë³´ì•ˆ ì„¤ì • ì•ˆë‚´</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
        }
        
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        
        .lang-btn {
            background: none;
            border: none;
            padding: 8px 12px;
            margin: 0 2px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .lang-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .lang-btn:hover:not(.active) {
            background: #f0f0f0;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 20px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 16px;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #f39c12;
        }
        
        .warning h3 {
            color: #856404;
            margin-top: 0;
        }
        
        .steps {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .step {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .step-number {
            background: #667eea;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            text-decoration: none;
            display: inline-block;
            margin: 10px 5px;
            transition: transform 0.2s;
        }
        
        .button:hover {
            transform: translateY(-2px);
        }
        
        .keyboard-shortcut {
            background: #e9ecef;
            padding: 4px 8px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
            font-size: 14px;
            border: 1px solid #ced4da;
        }
        
        .tip {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }
        
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="lang-btn active" onclick="switchLanguage('ko')" id="lang-ko">í•œêµ­ì–´</button>
        <button class="lang-btn" onclick="switchLanguage('en')" id="lang-en">English</button>
    </div>

    <div class="container">
        <!-- Korean Content -->
        <div id="content-ko" class="language-content">
            <div class="header">
                <div class="logo">S</div>
                <h1>Summar Installer ì‹¤í–‰ ì•ˆë‚´</h1>
                <p class="subtitle">macOS ë³´ì•ˆ ì„¤ì •ìœ¼ë¡œ ì¸í•´ ì¶”ê°€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤</p>
            </div>
            
            <div class="warning">
                <h3>âš ï¸ MDM ë˜ëŠ” Gatekeeperë¡œ ì¸í•œ ì°¨ë‹¨</h3>
                <p>Summar Installerê°€ macOSì˜ ë³´ì•ˆ ì •ì±…ì— ì˜í•´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤. ì•„ë˜ ë‹¨ê³„ë¥¼ ë”°ë¼ ì•±ì„ í—ˆìš©í•´ì£¼ì„¸ìš”.</p>
            </div>
            
            <div class="steps">
                <h3>ğŸ“‹ í•´ê²° ë°©ë²•</h3>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>âš¡ ê°€ì¥ ë¹ ë¥¸ ë°©ë²• (ì¶”ì²œ)</strong><br>
                    DMGì—ì„œ <strong>Summar Installer.appì„ ìš°í´ë¦­</strong> â†’ <strong>"ì—´ê¸°"</strong> ì„ íƒ â†’ ë³´ì•ˆ ëŒ€í™”ìƒìì—ì„œ <strong>"ì—´ê¸°"</strong> í´ë¦­
                    <br><br>
                    <button class="button" onclick="showQuickMethod()">âš¡ ë¹ ë¥¸ ë°©ë²• ìƒì„¸ë³´ê¸°</button>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>ì‹œìŠ¤í…œ ì„¤ì •ì„ í†µí•œ ë°©ë²•</strong><br>
                    <span class="keyboard-shortcut">âŒ˜ + Space</span>ë¥¼ ëˆ„ë¥´ê³  "ì‹œìŠ¤í…œ ì„¤ì •" ì…ë ¥ í›„ Enter
                    <br><br>
                    ë˜ëŠ” ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”:
                    <br>
                    <button class="button" onclick="openSystemPreferences()">ğŸ”§ ì‹œìŠ¤í…œ ì„¤ì • ì—´ê¸°</button>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ ì°¾ê¸°</strong><br>
                    ì¢Œì¸¡ ì‚¬ì´ë“œë°”ì—ì„œ "ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ" í´ë¦­
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>ë³´ì•ˆ ì„¹ì…˜ í™•ì¸</strong><br>
                    "ë³´ì•ˆ" ì„¹ì…˜ì—ì„œ "Summar Installer"ì— ëŒ€í•œ ì•Œë¦¼ì„ ì°¾ìŠµë‹ˆë‹¤
                </div>
                
                <div class="step">
                    <span class="step-number">5</span>
                    <strong>ì•± í—ˆìš©</strong><br>
                    "í™•ì¸ ì—†ì´ ì—´ê¸°" ë˜ëŠ” "ì—´ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ Summar Installerë¥¼ í—ˆìš©í•©ë‹ˆë‹¤
                </div>
                
                <div class="step">
                    <span class="step-number">6</span>
                    <strong>Summar Installer ì¬ì‹¤í–‰</strong><br>
                    DMGì—ì„œ Summar Installer.appì„ ë‹¤ì‹œ ì‹¤í–‰í•©ë‹ˆë‹¤
                </div>
            </div>
            
            <div class="steps">
                <h3>ğŸ› ï¸ ê³ ê¸‰ í•´ê²° ë°©ë²•</h3>
                
                <div class="step">
                    <strong>í„°ë¯¸ë„ì„ í†µí•œ ì„ì‹œ í•´ê²°</strong><br>
                    ê·¹ë‹¨ì ì¸ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”:
                    <br><br>
                    1. í„°ë¯¸ë„ ì—´ê¸° (<span class="keyboard-shortcut">âŒ˜ + Space</span> â†’ "í„°ë¯¸ë„")
                    <br>
                    2. ë‹¤ìŒ ëª…ë ¹ì–´ ì…ë ¥: <code style="background: #f1f1f1; padding: 2px 6px; border-radius: 3px;">sudo spctl --master-disable</code>
                    <br>
                    3. Summar Installer ì‹¤í–‰
                    <br>
                    4. ì‹¤í–‰ í›„ ë³´ì•ˆ ë³µì›: <code style="background: #f1f1f1; padding: 2px 6px; border-radius: 3px;">sudo spctl --master-enable</code>
                    <br><br>
                    <div style="background: #ffebee; padding: 10px; border-radius: 5px; border-left: 3px solid #f44336;">
                        <strong>âš ï¸ ì£¼ì˜:</strong> ì´ ë°©ë²•ì€ ì‹œìŠ¤í…œ ë³´ì•ˆì„ ì¼ì‹œì ìœ¼ë¡œ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤. ë°˜ë“œì‹œ ì•± ì‹¤í–‰ í›„ ë³´ì•ˆì„ ë‹¤ì‹œ í™œì„±í™”í•˜ì„¸ìš”.
                    </div>
                </div>
            </div>
            
            <div class="tip">
                <h4>ğŸ’¡ ë¬¸ì œ í•´ê²° íŒ</h4>
                <ul>
                    <li><strong>ì•±ì´ ê³„ì† ì°¨ë‹¨ë˜ëŠ” ê²½ìš°:</strong> ì‹œìŠ¤í…œì„ ì¬ë¶€íŒ…í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”</li>
                    <li><strong>MDM í™˜ê²½:</strong> íšŒì‚¬/í•™êµ ì»´í“¨í„°ë¼ë©´ IT ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”</li>
                    <li><strong>ì˜¤ë˜ëœ macOS:</strong> macOS 12.0 ì´ìƒ ê¶Œì¥</li>
                    <li><strong>ë‹¤ë¥¸ ë°©ë²•:</strong> Obsidian Community Pluginsì—ì„œ "Summar" ê²€ìƒ‰í•˜ì—¬ ì§ì ‘ ì„¤ì¹˜</li>
                </ul>
            </div>
            
            <div class="steps">
                <h3>ğŸ“– ì„¤ì¹˜ ì™„ë£Œ í›„ ì‚¬ìš©ë²•</h3>
                
                <div class="step">
                    <strong>1. Summar Installer ì‹¤í–‰</strong><br>
                    ë³´ì•ˆ ì„¤ì • ì™„ë£Œ í›„ Summar Installer.appì„ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ Obsidian í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ë©ë‹ˆë‹¤.
                </div>
                
                <div class="step">
                    <strong>2. Obsidianì—ì„œ í™œì„±í™”</strong><br>
                    Obsidian â†’ ì„¤ì • â†’ ì»¤ë®¤ë‹ˆí‹° í”ŒëŸ¬ê·¸ì¸ â†’ "Summar" í™œì„±í™”
                </div>
                
                <div class="step">
                    <strong>3. API í‚¤ ì„¤ì •</strong><br>
                    OpenAI API í‚¤ë¥¼ ì„¤ì •í•˜ì—¬ AI ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
            </div>
            
            <div class="success">
                <h4>âœ… ì„±ê³µì ìœ¼ë¡œ ì„¤ì •í•˜ë©´</h4>
                <p>Summar Installerê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ Obsidian í”ŒëŸ¬ê·¸ì¸ì„ ìë™ìœ¼ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="button" onclick="openSystemPreferences()">ğŸ”§ ì‹œìŠ¤í…œ ì„¤ì • ì—´ê¸°</button>
                <button class="button" onclick="testAppExecution()">ğŸ§ª ì•± ì‹¤í–‰ í…ŒìŠ¤íŠ¸</button>
                <button class="button" onclick="showAllMethods()">ğŸ“‹ ëª¨ë“  ë°©ë²• ë³´ê¸°</button>
                <button class="button" onclick="window.close()">âœ… ì´í•´í–ˆìŠµë‹ˆë‹¤</button>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <p style="margin: 0; color: #6c757d; font-size: 14px;">
                    <strong>ë¬¸ì œê°€ ì§€ì†ë˜ë‚˜ìš”?</strong><br>
                    GitHub ì´ìŠˆ: <a href="https://github.com/mcgabby/Summar/issues" target="_blank" style="color: #667eea;">github.com/mcgabby/Summar/issues</a><br>
                    ìˆ˜ë™ ì„¤ì¹˜: Obsidian â†’ ì„¤ì • â†’ ì»¤ë®¤ë‹ˆí‹° í”ŒëŸ¬ê·¸ì¸ â†’ "Summar" ê²€ìƒ‰
                </p>
            </div>
        </div>

        <!-- English Content -->
        <div id="content-en" class="language-content" style="display: none;">
            <div class="header">
                <div class="logo">S</div>
                <h1>Summar Installer Setup Guide</h1>
                <p class="subtitle">Additional setup required due to macOS security settings</p>
            </div>
            
            <div class="warning">
                <h3>âš ï¸ Blocked by MDM or Gatekeeper</h3>
                <p>Summar Installer has been blocked by macOS security policies. Please follow the steps below to allow the app.</p>
            </div>
            
            <div class="steps">
                <h3>ğŸ“‹ Resolution Methods</h3>
                
                <div class="step">
                    <span class="step-number">1</span>
                    <strong>âš¡ Fastest Method (Recommended)</strong><br>
                    In the DMG, <strong>right-click Summar Installer.app</strong> â†’ select <strong>"Open"</strong> â†’ click <strong>"Open"</strong> in the security dialog
                    <br><br>
                    <button class="button" onclick="showQuickMethod()">âš¡ View Quick Method Details</button>
                </div>
                
                <div class="step">
                    <span class="step-number">2</span>
                    <strong>System Settings Method</strong><br>
                    Press <span class="keyboard-shortcut">âŒ˜ + Space</span> and type "System Settings" then press Enter
                    <br><br>
                    Or click the button below:
                    <br>
                    <button class="button" onclick="openSystemPreferences()">ğŸ”§ Open System Settings</button>
                </div>
                
                <div class="step">
                    <span class="step-number">3</span>
                    <strong>Find Privacy & Security</strong><br>
                    Click "Privacy & Security" in the left sidebar
                </div>
                
                <div class="step">
                    <span class="step-number">4</span>
                    <strong>Check Security Section</strong><br>
                    Look for notifications about "Summar Installer" in the "Security" section
                </div>
                
                <div class="step">
                    <span class="step-number">5</span>
                    <strong>Allow App</strong><br>
                    Click "Open Anyway" or "Allow" button to permit Summar Installer
                </div>
                
                <div class="step">
                    <span class="step-number">6</span>
                    <strong>Re-run Summar Installer</strong><br>
                    Run Summar Installer.app again from the DMG
                </div>
            </div>
            
            <div class="steps">
                <h3>ğŸ› ï¸ Advanced Resolution Method</h3>
                
                <div class="step">
                    <strong>Temporary Resolution via Terminal</strong><br>
                    Use only in extreme cases:
                    <br><br>
                    1. Open Terminal (<span class="keyboard-shortcut">âŒ˜ + Space</span> â†’ "Terminal")
                    <br>
                    2. Enter command: <code style="background: #f1f1f1; padding: 2px 6px; border-radius: 3px;">sudo spctl --master-disable</code>
                    <br>
                    3. Run Summar Installer
                    <br>
                    4. Restore security after running: <code style="background: #f1f1f1; padding: 2px 6px; border-radius: 3px;">sudo spctl --master-enable</code>
                    <br><br>
                    <div style="background: #ffebee; padding: 10px; border-radius: 5px; border-left: 3px solid #f44336;">
                        <strong>âš ï¸ Warning:</strong> This method temporarily disables system security. Make sure to re-enable security after running the app.
                    </div>
                </div>
            </div>
            
            <div class="tip">
                <h4>ğŸ’¡ Troubleshooting Tips</h4>
                <ul>
                    <li><strong>If app continues to be blocked:</strong> Try restarting your system and try again</li>
                    <li><strong>MDM environment:</strong> If this is a company/school computer, contact your IT administrator</li>
                    <li><strong>Older macOS:</strong> macOS 12.0 or later recommended</li>
                    <li><strong>Alternative method:</strong> Search for "Summar" in Obsidian Community Plugins for direct installation</li>
                </ul>
            </div>
            
            <div class="steps">
                <h3>ğŸ“– Post-Installation Usage</h3>
                
                <div class="step">
                    <strong>1. Run Summar Installer</strong><br>
                    After completing security setup, run Summar Installer.app to automatically install the Obsidian plugin.
                </div>
                
                <div class="step">
                    <strong>2. Enable in Obsidian</strong><br>
                    Obsidian â†’ Settings â†’ Community Plugins â†’ Enable "Summar"
                </div>
                
                <div class="step">
                    <strong>3. Configure API Key</strong><br>
                    Set up your OpenAI API key to use AI features.
                </div>
            </div>
            
            <div class="success">
                <h4>âœ… Upon Successful Setup</h4>
                <p>Summar Installer will run normally and automatically install the Obsidian plugin.</p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="button" onclick="openSystemPreferences()">ğŸ”§ Open System Settings</button>
                <button class="button" onclick="testAppExecution()">ğŸ§ª Test App Execution</button>
                <button class="button" onclick="showAllMethods()">ğŸ“‹ Show All Methods</button>
                <button class="button" onclick="window.close()">âœ… Got It</button>
            </div>
            
            <div style="text-align: center; margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <p style="margin: 0; color: #6c757d; font-size: 14px;">
                    <strong>Issues persisting?</strong><br>
                    GitHub Issues: <a href="https://github.com/mcgabby/Summar/issues" target="_blank" style="color: #667eea;">github.com/mcgabby/Summar/issues</a><br>
                    Manual Installation: Obsidian â†’ Settings â†’ Community Plugins â†’ Search "Summar"
                </p>
            </div>
        </div>
    </div>
    
    <script>
        // ë‹¤êµ­ì–´ ì§€ì› ì„¤ì •
        let currentLanguage = 'ko';
        
        // ì–¸ì–´ë³„ ë©”ì‹œì§€ ì •ì˜
        const messages = {
            ko: {
                quickMethod: `âš¡ ê°€ì¥ ë¹ ë¥¸ í•´ê²° ë°©ë²•:

1. DMG ì°½ìœ¼ë¡œ ëŒì•„ê°€ê¸°
2. 'Summar Installer.app'ì„ ìš°í´ë¦­ (ë˜ëŠ” Control + í´ë¦­)
3. ë©”ë‰´ì—ì„œ 'ì—´ê¸°' ì„ íƒ
4. ê²½ê³  ì°½ì—ì„œ 'ì—´ê¸°' ë²„íŠ¼ í´ë¦­

ì´ ë°©ë²•ì´ 90% ê²½ìš°ì—ì„œ ê°€ì¥ ë¹ ë¥´ê²Œ í•´ê²°ë©ë‹ˆë‹¤!`,
                
                allMethods: `ğŸ” Summar Installer ì°¨ë‹¨ í•´ê²° - ëª¨ë“  ë°©ë²•

ë°©ë²• 1 (ì¶”ì²œ): ìš°í´ë¦­ìœ¼ë¡œ ì—´ê¸°
â€¢ Summar Installer.app ìš°í´ë¦­ â†’ "ì—´ê¸°"

ë°©ë²• 2: ì‹œìŠ¤í…œ ì„¤ì • ìˆ˜ì •  
â€¢ ì‹œìŠ¤í…œ ì„¤ì • â†’ ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ â†’ ë³´ì•ˆ
â€¢ "Summar Installer" ê´€ë ¨ ì•Œë¦¼ì—ì„œ "ì—´ê¸°" í´ë¦­

ë°©ë²• 3: í„°ë¯¸ë„ (ê³ ê¸‰)
â€¢ sudo spctl --master-disable
â€¢ ì•± ì‹¤í–‰ í›„ sudo spctl --master-enable

ë°©ë²• 4: ìˆ˜ë™ ì„¤ì¹˜
â€¢ Obsidian â†’ ì„¤ì • â†’ ì»¤ë®¤ë‹ˆí‹° í”ŒëŸ¬ê·¸ì¸ â†’ "Summar" ê²€ìƒ‰

ì„ íƒí•˜ì‹  ë°©ë²•ìœ¼ë¡œ ì§„í–‰í•˜ì„¸ìš”!`,
                
                testApp: "Summar Installer.appì„ ì§€ê¸ˆ í…ŒìŠ¤íŠ¸í•´ë³¼ê¹Œìš”?\n\n'í™•ì¸'ì„ ëˆ„ë¥´ë©´ ì•± ì‹¤í–‰ì„ ì‹œë„í•©ë‹ˆë‹¤.\n(ì°¨ë‹¨ë˜ë©´ ë³´ì•ˆ ì„¤ì • ì°½ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤)",
                
                testAppInstructions: "DMG ì°½ì—ì„œ 'Summar Installer.app'ì„ ë”ë¸”í´ë¦­í•˜ì—¬ ì‹¤í–‰í•´ë³´ì„¸ìš”.\n\nì°¨ë‹¨ë˜ë©´ ì´ ê°€ì´ë“œë¡œ ë‹¤ì‹œ ëŒì•„ì™€ì„œ ë³´ì•ˆ ì„¤ì •ì„ ë³€ê²½í•˜ì„¸ìš”.",
                
                manualInstructions: `ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œ ì„¤ì •ì„ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ìˆ˜ë™ìœ¼ë¡œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼í•˜ì„¸ìš”:

1. âŒ˜ + Spaceë¥¼ ëˆ„ë¥´ê³  "ì‹œìŠ¤í…œ ì„¤ì •" ê²€ìƒ‰
2. "ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ" í´ë¦­  
3. "ë³´ì•ˆ" ì„¹ì…˜ì—ì„œ Summar Installer ê´€ë ¨ ì•Œë¦¼ ì°¾ê¸°
4. "í™•ì¸ ì—†ì´ ì—´ê¸°" ë˜ëŠ” "ì—´ê¸°" í´ë¦­

ë˜ëŠ” Summar Installer.appì„ ìš°í´ë¦­í•˜ê³  "ì—´ê¸°"ë¥¼ ì„ íƒí•˜ì„¸ìš”.`,
                
                welcomeMessage: `ğŸ” Summar Installer ë³´ì•ˆ ì„¤ì • ë„ìš°ë¯¸

Summar Installerê°€ macOS ë³´ì•ˆ ì •ì±…ìœ¼ë¡œ ì°¨ë‹¨ë˜ì—ˆë‚˜ìš”?

'í™•ì¸': ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œ ì„¤ì • ì—´ê¸°
'ì·¨ì†Œ': ìˆ˜ë™ í•´ê²° ë°©ë²• ê³„ì† ë³´ê¸°`
            },
            
            en: {
                quickMethod: `âš¡ Fastest Resolution Method:

1. Return to the DMG window
2. Right-click 'Summar Installer.app' (or Control + click)
3. Select 'Open' from the menu
4. Click 'Open' button in the warning dialog

This method resolves the issue in 90% of cases!`,
                
                allMethods: `ğŸ” Summar Installer Block Resolution - All Methods

Method 1 (Recommended): Right-click to open
â€¢ Right-click Summar Installer.app â†’ "Open"

Method 2: System Settings modification
â€¢ System Settings â†’ Privacy & Security â†’ Security
â€¢ Click "Open" in "Summar Installer" related notification

Method 3: Terminal (Advanced)
â€¢ sudo spctl --master-disable
â€¢ Run app then sudo spctl --master-enable

Method 4: Manual installation
â€¢ Obsidian â†’ Settings â†’ Community Plugins â†’ Search "Summar"

Proceed with your chosen method!`,
                
                testApp: "Would you like to test Summar Installer.app now?\n\n'OK' will attempt to run the app.\n(If blocked, security settings dialog will appear)",
                
                testAppInstructions: "Double-click 'Summar Installer.app' in the DMG window to run it.\n\nIf blocked, return to this guide to change security settings.",
                
                manualInstructions: `Unable to automatically open System Settings.

Please follow these steps manually:

1. Press âŒ˜ + Space and search "System Settings"
2. Click "Privacy & Security"
3. Find Summar Installer related notification in "Security" section
4. Click "Open Anyway" or "Open"

Or right-click Summar Installer.app and select "Open".`,
                
                welcomeMessage: `ğŸ” Summar Installer Security Setup Helper

Has Summar Installer been blocked by macOS security policies?

'OK': Automatically open System Settings
'Cancel': Continue with manual resolution methods`
            }
        };
        
        // ì–¸ì–´ ì „í™˜ í•¨ìˆ˜
        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // ëª¨ë“  ì–¸ì–´ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.language-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // ì„ íƒëœ ì–¸ì–´ ì½˜í…ì¸  ë³´ì´ê¸°
            document.getElementById(`content-${lang}`).style.display = 'block';
            
            // ì–¸ì–´ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(`lang-${lang}`).classList.add('active');
            
            // í˜ì´ì§€ ì œëª© ì—…ë°ì´íŠ¸
            document.getElementById('page-title').textContent = 
                lang === 'ko' ? 'Summar Installer ë³´ì•ˆ ì„¤ì • ì•ˆë‚´' : 'Summar Installer Security Setup Guide';
            
            // HTML lang ì†ì„± ì—…ë°ì´íŠ¸
            document.documentElement.lang = lang;
            
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì–¸ì–´ ì„¤ì • ì €ì¥
            localStorage.setItem('summar-installer-language', lang);
        }
        
        // ì‹œìŠ¤í…œ ì–¸ì–´ ê°ì§€ ë° ì´ˆê¸° ì–¸ì–´ ì„¤ì •
        function detectAndSetLanguage() {
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì €ì¥ëœ ì–¸ì–´ í™•ì¸
            const savedLanguage = localStorage.getItem('summar-installer-language');
            if (savedLanguage) {
                switchLanguage(savedLanguage);
                return;
            }
            
            // ë¸Œë¼ìš°ì € ì–¸ì–´ ê°ì§€
            const browserLanguage = navigator.language || navigator.languages[0];
            const isKorean = browserLanguage.startsWith('ko');
            
            // í•œêµ­ì–´ë©´ í•œêµ­ì–´ë¡œ, ì•„ë‹ˆë©´ ì˜ì–´ë¡œ ì„¤ì •
            switchLanguage(isKorean ? 'ko' : 'en');
        }
        
        function openSystemPreferences() {
            // macOSì—ì„œ ì‹œìŠ¤í…œ ì„¤ì • ì—´ê¸°
            try {
                // Method 1: URL ìŠ¤í‚´ì„ í†µí•œ ì§ì ‘ ì—´ê¸° (macOS Ventura+)
                const isVenturaOrLater = navigator.userAgent.includes('Mac OS X 10_15') === false;
                
                if (isVenturaOrLater) {
                    // macOS Ventura ì´í›„ ìƒˆë¡œìš´ ì‹œìŠ¤í…œ ì„¤ì •
                    window.location.href = "x-apple.systempreferences:com.apple.preference.security?Privacy_Security";
                } else {
                    // ì´ì „ ë²„ì „ ì‹œìŠ¤í…œ í™˜ê²½ì„¤ì •
                    window.location.href = "x-apple.systempreferences:com.apple.preference.security";
                }
                
                // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                setTimeout(() => {
                    showSuccessMessage();
                }, 1000);
                
            } catch (e) {
                console.error("ìë™ ì—´ê¸° ì‹¤íŒ¨:", e);
                showManualInstructions();
            }
        }
        
        function showSuccessMessage() {
            const successDiv = document.createElement('div');
            successDiv.className = 'success';
            
            if (currentLanguage === 'ko') {
                successDiv.innerHTML = `
                    <h4>âœ… ì‹œìŠ¤í…œ ì„¤ì •ì´ ì—´ë ¸ìŠµë‹ˆë‹¤!</h4>
                    <p>ì´ì œ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¼í•˜ì„¸ìš”:</p>
                    <ol>
                        <li>"ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ" í´ë¦­</li>
                        <li>"ë³´ì•ˆ" ì„¹ì…˜ì—ì„œ "Summar Installer" ì°¾ê¸°</li>
                        <li>"í™•ì¸ ì—†ì´ ì—´ê¸°" ë˜ëŠ” "ì—´ê¸°" í´ë¦­</li>
                        <li>DMGì—ì„œ Summar Installer.app ì¬ì‹¤í–‰</li>
                    </ol>
                `;
            } else {
                successDiv.innerHTML = `
                    <h4>âœ… System Settings opened!</h4>
                    <p>Now follow these steps:</p>
                    <ol>
                        <li>Click "Privacy & Security"</li>
                        <li>Find "Summar Installer" in "Security" section</li>
                        <li>Click "Open Anyway" or "Open"</li>
                        <li>Re-run Summar Installer.app from DMG</li>
                    </ol>
                `;
            }
            
            document.querySelector('.container').appendChild(successDiv);
        }
        
        function showManualInstructions() {
            alert(messages[currentLanguage].manualInstructions);
        }
        
        function testAppExecution() {
            const testResult = confirm(messages[currentLanguage].testApp);
            
            if (testResult) {
                alert(messages[currentLanguage].testAppInstructions);
            }
        }
        
        function showQuickMethod() {
            alert(messages[currentLanguage].quickMethod);
        }
        
        function showAllMethods() {
            alert(messages[currentLanguage].allMethods);
        }
        
        function copyTerminalCommand(command) {
            navigator.clipboard.writeText(command).then(() => {
                const message = currentLanguage === 'ko' 
                    ? `ëª…ë ¹ì–´ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤:\n${command}\n\ní„°ë¯¸ë„ì— ë¶™ì—¬ë„£ê¸°í•˜ì„¸ìš”.`
                    : `Command copied to clipboard:\n${command}\n\nPaste it in Terminal.`;
                alert(message);
            }).catch(() => {
                const message = currentLanguage === 'ko' 
                    ? "ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ë³µì‚¬í•˜ì„¸ìš”:"
                    : "Copy this command:";
                prompt(message, command);
            });
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì–¸ì–´ ê°ì§€ ë° ì„¤ì •
        window.addEventListener('load', function() {
            detectAndSetLanguage();
            
            // 3ì´ˆ í›„ì— ìë™ í”„ë¡¬í”„íŠ¸ í‘œì‹œ
            setTimeout(() => {
                const userChoice = confirm(messages[currentLanguage].welcomeMessage);
                
                if (userChoice) {
                    openSystemPreferences();
                }
            }, 2000);
        });
    </script>
</body>
</html>
